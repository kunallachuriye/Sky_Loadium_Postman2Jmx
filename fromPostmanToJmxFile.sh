#!/bin/sh
[ ! -d "ita-selfcare-bb-automation_API" ] && git clone https://github.com/sky-uk/ita-selfcare-bb-automation_API.git
cd ita-selfcare-bb-automation_API
git checkout develop
git pull
cd ..
java -jar Postman2Jmx.jar $1 jmxVersion01.jmx
sed 's/{{tokenId}}/foobar/g; 
s/{{e2eContractId_7804492}}/MXoyb3g1SDl1N2hzOWduV2JQUTA0UT09/g;
s/{{e2eContractId_7804492_S831016}}/S000SVI4ZklBbHZOekxpdWliWWVrdz09/g;
s/{{e2eContractId_15519862}}/VE5XbXkxaSszdktVV3FONk5DTkpjQT09/g;
s/{{e2eContractId_15519863}}/cVdHR0lTMGFoS3V6dlhyNUxCRC9odz09/g;
s/:cityEgonId/38000000243/g; s/:streetEgonId/1/g;
s/:id/MXoyb3g1SDl1N2hzOWduV2JQUTA0UT09/g;
s/${BASE_URL}/coll-api.sky.it/g;
s+<stringProp name="HTTPSampler.protocol">+<stringProp name="HTTPSampler.protocol">https+g;
s+<stringProp name="HTTPSampler.path">+<stringProp name="HTTPSampler.path">selfcare/dev+g;
s+<boolProp name="HTTPArgument.always_encode">false</boolProp>+<boolProp name="HTTPArgument.always_encode">true</boolProp>+g;
s/${JWTC-S831016}/Bearer eyJhbGciOiJSUzI1NiIsImN0eSI6IkpXVEMifQ.ZW1vWXRML1hTd21QRWo4aC9jUHlnU3JZM0dkRWh3SmY1VGpKQS91eHlxSmtjeFFaTHVjV2JDT2tNS0FvZVpyU1RIaXJybXZQWm8weFZRSnc1M2M0d2FpUE9PZUFxandIblNRNmZUY1dwMjRtWVJpenRWMWN0WFFSMTVEY3NjZTNOeHFnWVpncUNMbXE4d00zaWwrQkVRTDQ2c2dnckpnR2V4Mkc4UXNrM1Rjb2pJQXllQ0V0YWpNZU9UeW05Q1FNTWpjbnROcTRuMGZGNCtWc3A4VzRrb000YVIxenIyY2tvZTlYVGV4U0JRVm14ckZzNFZScEM4UFhKQ2FPK2syeXN3N1ZiZlZxZDhWMzgwamlMRlZHdU5lRjkyRkl6cTIvVzM1RkMxR1JadHRpZXFVRkU0eVlaVHVKanBLQmRyU0x4ajEyblJjWEl2OUYwbDdhSVcvVWgzeTRRR0xsNW5DRXkzeHkxeTg0ME4xU0MvZ0IzMkt5WFpadkx1WDFGL1ZEZlI2TThOODNSOStwQVdEWXB4WDRYeE1iYjNNOG1zL1JibGswUHVYdWNXRnpIVFJBZWYvMThYSTVJaTFVZ0Z3Ri9QdmdYOHZpbTBZQi9Rekt6aWxhc2RXZW45NnhGOTJ1QlB6TTJiMVlkUmtoekhLQ1B5aFFMUzBNK1FPZzlOUkxHU2czR0RwRlBMbGZaWHNodjVQRDA4N2RzZUVDNU1jbmtPNUlPdVdLdFJkRHFrZncyQmpNM0tvdlV0YXFVUHo0QlV4ZHRiazAzREZNcElhZElEeGd0NDJYTS9mK3BtN2ZZc3ZKNVFSUkZSRHZwY21FS05ad3M2Wkd3RXNnRmVIa3FhWGJnRkdHL1lpdVYvR0oyWmlmYzJXZ3dTcDdjYlc2aUFGT0ZMbTlEZkNZVUpkQVpwN0JjcnNwUFdVcGNFUVZsVDhuSVlhZFFXNTdDeXhrOG9UbExpU2hTRGcvL3JIaHN4YXlpaGlPei9GemRuQXZZQkt4VE5nUktCSTJ4WTM2MFRPbkwvcVkyVEU1a1RjWVZrWFFGTnU5TTZ0SWFHOGozYmVpSUhKNGhpV3U5YXlxMEI4QitjN0hxSmVTMzJ3YmxZdGc5ZmJHbW1odkpLMXFsRGlxd0RkQ1BtaUdXK21yYXQzcFJIOGMyZFU9.Qsma2zenR0rLidiBeCHG4OnWw7zwWaRkDbX06lrOu2yASmNIyLg_QmLLkCB6foDV0mERq_4MhaZw-z_kOjQaR_Z4SjMelXHkAoGE6dOvGnP-VG014XWEjwvbpeOaM3p9mzgDVqktgD-8CY7i6nHZz_CLJAF3Li5ryUbUXXrPjw_U_bqPHZipaKYCpz_gPIl3gXoS1Mndzxszvv68Q40FM0M0S04gN3JDEJ7L_gBzyMaYyU2uV0Jw9gKeZRO61g2SFgwxiCoXm7_4sBFR4eiHEYL6Ox7ItGRds1pV-JKVskIrr5uTEJRiTyJXWlH7LBlfJFsZQA_Ajv6i5wNsJvz44w/g;
s/${JWTG}/foBearer eyJhbGciOiJSUzI1NiIsImN0eSI6IkpXVEMifQ.UXV5Y2h5S3NSTVFyeDdsQjFwOEtpTEd5NHJvUC9VaEtYTXBRd2dhYkdXUmJzZldVb3FWc1huN1hNelh5NHFLZlRIaXJybXZQWm8weFZRSnc1M2M0d1F4SE9URDI2cEhTb29BM0NwU2NtUUZRTGhNd0JGNUZKMnRIaTFoWm9sUE5pQ1BSUlBMU0NNbTF1SFcrVzY2bWI1QjAwU3JpQjBPQVRhL2dmZVU0eFZ6eTZlQVpiOGJFWDJIdXpZSkVYaFJBblV0STBmcVlyS3JDVU9IRWNOTk8wSnhMVzU0YkVOcnU4MnMxa0lJb0NWSkxUaXhMZW1MSEIyTjVjdDVmK2dkZGFDdjQ5cU5CR3pIdUJ0YVpqd1BEK21BRmYrRkNCTm5TZUJYdU91aHJOa0EzRWVUM0M4elA4VHYzeVlmak84UC9zTjdsQklDQk1DaXdkT3NzOFlaVnlBPT0.ast7kD5p8841J5ehwHpXUUgIkI4qwWlAUdYGBNj4TKWN9lkwNUcnW105O9F1UrttaWIk0Ftv_VKAZraoh6Bh2kmjWX6AujRl2xaNukfLBRP8Wa2Chxs6WuJvlr9L7B4sS0UpT-WpZ8ij0AhCLdHpsMFI1-ZfgLtUV7H--uXoNJjqYS95Y3n2eLifmKARHVnAlZvUnAKVTcYrvZ5ZrixJGQVx8mcuZDJvA1mQIuYcWxGebg6G6IOO9NWIjkwtyL2K-UGzMmVvhBiH7zveG0tPmNlbay_awRMEUEPFIsJKzWm_sENAI8QvDB8nAPiCYB0CnlDs0-98y8HbKB30oSNnYAobar/g;
s/${JWTC-V7758345}/Bearer eyJhbGciOiJSUzI1NiIsImN0eSI6IkpXVEMifQ.aHpxU2tDOFpURElCNGRNU1RlNUV6M2VQM056OUdVNUhHWGpQOHIxbFkwaTJ3ZHJrcjJjNXV1OG81NFhSU2R6L1RIaXJybXZQWm8weFZRSnc1M2M0d1F4SE9URDI2cEhTb29BM0NwU2NtUUdMVW0xaTlpS2dNMGplUnh0a1ZjaC8xWFc2OFdhckJEQjk2bnBqYndzNU81bE01WVpQdUlueXJ5MkliU1FacytkcUF2ajNpMXdua2ljdzBDZDl4aktjU08zcGxucGx5SUFVZXRIdFVOaU1EQlY3UnYzaVN6dHpRVk5Ja1llb1ZoK2NackhpMlB3OEpsNm9nTWU2SHEzVHpyUmI0Q0VaSUpqaFVtb29kMEVtbjZVVXdrODNkZHpWMXo5cGI0ZnRzc0tpTmg2VHA0QW8xV0U3QnNUZXhheC81VmpRazJKeDhOQm9BUW9YMmZtN1VSZmdFZ0ZpSS92TWxZa3hYYXRBbCtrWUxJM2MveU16c045eGR3SjkyLzVKRVZoNENIclFKNFV3WWdKaVA3d0lmTXYvRy9TWmtWQzRieHI3Si9UUTA5a2RScmRFdUc4ZFQvWWFvSmQyQmt3WmJnRmVMeG1sVXg4cG9Nbk56R1h3V1BQNzViUzIrRVRjSGQvY0JzcmxPN2trK1MrWXREKzhvYWdNYWhtaHRQUVEzSWo3YW1VbE94K0xKK013RWlWQ21kV1Y0WUxvSU5ndm43bEF6NE5UUkw1YnhYSFplL3UxRzc5YkZNTWVqZC80c2hZUFBCekJtNFB4T204cHZHZlh5MG8rbUdIQzRyWTBvVUVmQzF6Q0d6QmZTMUFLYS92aW1PUnppbDZpTkU2Q1NqNllZY0xpdGpTaFFSOExYTUliTUUraituVGtnTkMwQkFxNUI4UVBKVE09.mnab0xKnOTTudgUErH1T-I5ettjhaccp4-d785dofQde2GJOpuGBP0wwCnFoWFzz65b6TeOGFtqhb5L6JEkTAG-xNdZu4lXmkFjcXdpgZdD8cEWR2-ZTOh_nstOE3zpEnrGerGiQ6gUn7c6mIVCV51f4tKeHYyKE6zITL2qceW1s3IrxFfnAm8nT3pQS80R2cty4KpflQbI7I4M9NYV0KZLzdYBIeI2U75yFbiX75wQBsU66HeglPx88EJStBu79VYs2KXAWdzprFLakTNDol4CQJydOsayRvCSCxYbi2bIs3k0vyPjH88nIkFFcLkTJ_CZ_zutuJdSztDjZznJong/g;
s/${JWTA}/Bearer eyJhbGciOiJSUzI1NiIsImN0eSI6IkpXVEEifQ.YlIxM2kwNHRFQ0ViRlNPbUlEWkRoU3F4aDBuL1Z2N0o5WWM2aVFScHI3QTB2eHNsRW42M0VQYlZJNE4rYWpDclRIaXJybXZQWm8weFZRSnc1M2M0d2NITTUyaXl5bWZmZllrbERleEhRMTZPanpoTFdyaERsY3FwQWdNZHAvK2Q5cmVPaXRVZmp0aEc1RVFTaWhnMThwT2Y0YjZiUG1WNFNLM3piNnVLaDRmZDZydVB4S1R2Nmd0Sm9iRmpEWU1LUnc3NW4wTUlNSUY0Qy9oeHY1TW0wRmtrdENNRWNVY0dkVWZEWCt1L24rM1M0QnhZK3NaYjZaZ1R5Zk1hNzdkRS9PZnhNK3BHS2FyTHJueDhyY3djcUFXQ3ZURXA3OHNRclVMcE1YeWIwUURKeUR5NkxCaGUwOFcrc1I5TE9heHk.cpdcQb6F8apRPJn5I0Ywm0yz4lxPfqjuOVKNHDPBdaIDZ-O3jHEDBt-41kwWK2_lbke-Ps_T_uFrtuyoRYTjcDGXy3IMyqGr5UD_zhxSwR5kgBwwkCvp3lho9EhZ_Rpqzrs3gsB0wdUiLpAHQ7hFzZelqmtO2zMks3_ETZOaJSbUQHTt6XLy7xWej6hHrYJ7cYu_p3Rwqz4bz1Vxsx-ESvK7hN22DRnFTdPbL0IavR-MVfzheTX5mak8y95CQSEa8ZcLMjnSJOWmPP30W-teaZQtXuYSrnbPdqPKOQhaBgaFLQzm6k--Dzrvbv-74_ZRiVk7mI5OP6oUOPmN00yYwA/g;
s/${JWTI}/Bearer eyJhbGciOiJSUzI1NiIsImN0eSI6IkpXVEkifQ.YnlXcDNlYytoQzF0dG1ZdEVKOHoyMCtZM0JidHh0RGFOOWFJT0pNM2xLeER0SHhYMDNDQlRqMGYwaGdFMSs3aVRIaXJybXZQWm8weFZRSnc1M2M0d1g5R09GcitwT3ovV2FKZUtJRVhzOVhGYTdWSzczMlBsbnFVcVg5bWZjN1I5U3A2R2YzV2F5TyszWXBvQ2lyYTFWeTI5QTFpNTUwVUFPaE1ibkRFS0hzVjB3QzVxNWJDRW9BbkthUUdwWWRDT21ZWHZ0aXo2MU43dmtLSmJBMjlpUGRqQmZJSGpRRUZ1VzhSOVZjK3puY2toTm5ZOWxIL2tNRU9lR1ByQmltRFN0eXlNVG9McHBYU0tMb1ZRTkJtWHU3L2FNa1liMkVxWmRYeDZ0a0FidDA9.K05W6KEngcId7glLJNh8HKzeLfQ2P1d7ZdmmgNspgEaMPXnu1lAk5t83hzL0Q0vojit52-7KARvpKOT2-bhnLrCAGmqfnXaTWxvonx2zAHQlLil_oN1ylGVVv61HaTQoQbOOkpkBtOo8LSrmLwoVuvuYl_2_b041gxL-kDo-KZbXB9PH1utvch1DKmOwZuQ3es1rcvN-ZhPM9r8slRgTSe4J-KFSmu6ejag0RMplFB8NPurCmcOvxSSxhlLZC2P5BgWZimcmzHsYsdGkksDryPqElWENY61XbSJ07fQU9C10VWvclEbQYZr-9nV2rMuuUZxkuMN9jUkl4gDwEhx7bg/g;
s/${JWTCD}/eyJhbGciOiJSUzI1NiIsImN0eSI6IkpXVENEIn0.MEE3Z1hXUExTRjRSaFl4Z3FEaVA0OVdKNDVOaWMyYXB3Y29MQkFVcUhyQ2ZXbUxxa3o0WW1ScGdRQmpJYTBxRFRIaXJybXZQWm8weFZRSnc1M2M0d2FpUE9PZUFxandIblNRNmZUY1dwMjRtWVJpenRWMWN0WFFSMTVEY3NjZTNOeHFnWVpncUNMbXE4d00zaWwrQkVWMjNyWmFTTlYyM0VQRkQxbzZuM1RGT1ljZVVYdjUzZ1RMMG9oSXNpTURjWUlrR0x2M2tsenZ5MEJHWGpZYjhpVC9sTm9iRHNNcEVIQnJQSkFzQlM2T3ZpbFd2Tnd6ZGJaSzlFWXNsd1hPWHpnYnhDTmh2WXFNcG5qUUdnZmhwRnRlRjkyRkl6cTIvVzM1RkMxR1JadHRpZXFVRkU0eVlaVHVKanBLQmRyU0x4ajEyblJjWEl2OUYwbDdhSVcvVWgzeTRRR0xsNW5DRXkzeHkxeTg0ME4xU0MvZ0IzMkt5WFpadkx1WDFGL1ZEZlI2TThOODNSOStwQVdEWXB4WDRYeE1iYjNNOG1zL1JibGswUHVYdWNXRnpIVFJBZWYvMThYSTVJaTFVZ0Z3Ri9QdmdYOHZpbTBZQi9Rekt6aWxhc2RXZW45NnhGOTJ1QlB6TTJiMVlkUmtoekhLQ1B5aFFMUzBNK1FPZzlOUkxHU2czR0RwRlBMbGZaWHNodjVQRDA4N2RzZUVDNU1jbmtPNUlPdVdLdFJkRHFrZncyQmpNM0tvdlV0YXFVUHo0QlV4ZHRiazAzREZNcElhZElEeGd0NDJYTS9mK3BtN2ZZc3ZKNVFSUkZSRHZwY21FS05ad3M2Wkd3RXNnRmVIa3FhWGJnRkdHL1lpdVYvR0oyWmlmYzJXZ3dTcDdjYlc2aUFGT0ZMbTlEZkNZVUpkQVpwN0JjcnNwUFdVcGNFUVZsVDhuSVlhZFFXNTdDeXhrOG9UbExpU2hTRGcvL3JIaHN4YXlpaGlPei9GemRuQXZZQkt4VE5nUktCSTJ4WTM2MFRPbkwvcVkyVEU1a1RjWVZrWFFGTnU5TTZ0SWFHOGozYmVpSUhKNGhpVkhLMFRpTHNlUmE0MUZSVXgzZ1ZlWFRDdDJFRFdnT1ZmaGxRUisyMU11cmw2RXJIWkdJTVFXaDNncEhYNW1MUDV4ZnhqenZ0Zm8relNHOWpDMmJVWVUyOXFqSTRRbkxVd1BmR1F5dnFDcWhRVW5uTnNkR2gxU2MwU0c3dEsrMHNMNGllekdFK2ZLakg4QUJuVWl2UXUvQkpZUUxMciswalEwYkRNR1Q5akFqQlU2dDU2YWVLTHZwNjhvanR4eml2aEl3WTVRZHJMT05QcFM4TThxbTdwVjN1ZnF4Y3IzVkI2NndrdE1rekR5aVhWdDJsTGwya1JOWVp0NTRaQnhyZ0dLbEZqUWczMTdsRWNNSDYydXd2cWk.C50D2B6tIy-sXQdYbJ2vq2YwALGyObON2FYQsPvAB9Hdj6g0XipQic9kmORjL9XuUZ6vyOCjtdltR29zV9Dj2K4mrGHq2XHWjx5Q986n3oRshw1CygbzS-xgD3wwb5qAki8aw9HVIizXQq3o9JsE3ZThYqzMmVlG8ZnQ2C7rzsHI85f6kgVczUoxDSQAptkoSB1oftu3wCR_I-xKSFsViIjqyZnWm-34Fcy4SpcQJ3YBxISW8GeefNkZA1oXmlOE4i2IsRSwe2UOSy0IdU7WIU_BedPDmLfC2wYkzZmEB9WL7IdigKSax5E_R1rVvUsrUbs846SAzUM6GBJkyi8-6g/g;
s/:planId/S000SVI4ZklBbHZOekxpdWliWWVrdz09/g;
s/:e2eContractId/S000SVI4ZklBbHZOekxpdWliWWVrdz09/g;
s/:contractId/S000SVI4ZklBbHZOekxpdWliWWVrdz09/g;
s/:invoiceId/01t25000003H49WAAS/g
' jmxVersion01.jmx > jmxVersion02.jmx

#ita-selfcare-bb-automation_API/$1

